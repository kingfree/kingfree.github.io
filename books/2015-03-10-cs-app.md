---
layout: page
title: 深入理解计算机系统
tagline: 原书第2版
group: book
etitle: "Computer Systems: A Programmer's Perspective"
permalink: /books/cs-app/
date: 2015-3-12
update: 2015-3-13
---

## 第1章 计算机系统漫游

信息就是 位+上下文。

程序编译的四个阶段：预处理阶段 `cpp`、编译阶段 `cc1`、汇编阶段 `as`、链接阶段 `ld`。

为何要了解编译系统的工作方式：优化程序性能、理解链接时出现的错误、避免安全漏洞。

系统的硬件组成：总线、I/O 设备、主存、处理器。演示了`hello`程序的运行过程。

三级高速缓存。存储器层次结构的金字塔。

操作系统管理硬件：进程和线程、虚拟存储器、文件。

并发和并行。

# 第一部分 程序结构和执行

## 第2章 信息的表示和处理

十六进制表示法，十六进制、二进制、十进制之间的转换。

字和字长、大端法和小端法。

布尔代数，位级运算、逻辑运算、移位运算。

整数的表示法：

* 无符号整数 $$B2U_w(\vec{x})\doteq\sum_{i=0}^{w-1}{x_i2^i}$$
* 补码 $$B2T_w(\vec{x})\doteq -x_{w-1}2^{w-1}+\sum_{i=0}^{w-2}{x_i2^i}$$
* 反码、原码

* 补码转无符号数：$$T2U_w(x)=\left\{\begin{array}{ll}x+2^w,& x<0\\x,& x\ge 0\end{array}\right.$$,
* 无符号数转补码：$$U2T_w(u)=\left\{\begin{array}{ll}u,& u<2^{w-1}\\x-2^w,& u\ge 2^{w-1}\end{array}\right.$$

C 隐式地将有符号参数强制转换为无符号数并假设其非负来进行计算。

数字的扩展：

* 零扩展
* 符号扩展：$$B2T_{w+k}([x_{w-1},\cdots,x_{w-1},x_{w-1},x_{w-2},\cdots,x_0])=B2T_{w}([x_{w-1},x_{w-2},\cdots,x_0])$$

数的截断：

* 无符号数的截断：$$B2U_k([x_{k-1},x_{k-2},\cdots,x_0])=B2U_{w}([x_{w-1},x_{w-2},\cdots,x_0])\mod {2^k}$$
* 有符号数的截断：$$B2T_k([x_{k-1},x_{k-2},\cdots,x_0])=U2T_k(B2U_{w}([x_{w-1},x_{w-2},\cdots,x_0])\mod {2^k})$$

整数的运算：

* 无符号加法：$$x+^u_w y=\left\{\begin{array}{ll}x+y,& x+y<2^w\\x+y-2^w,& 2^w\le x+y<2^{w+1}\end{array}\right.$$
* 补码加法：$$x+^t_w y=U2T_w[(x+y)\mod {2^w}]=\left\{\begin{array}{lll}
x+y-2^w,& 2^{w-1}\le x+y, & \text{正溢出}\\
x+y,& -2^{w-1}\le x+y<2^{w-1},& \text{正常}\\
x+y+2^w,& x+y<-2^{w-1}, & \text{负溢出}
\end{array}\right.$$
* 补码的非：$$-^t_w x=\left\{\begin{array}{ll}-2^{w-1},& x=-2^{w-1}\\-x,& x>-2^{w-1}\end{array}\right.$$
* 无符号乘法：$$x*^u_w y=(x\cdot y)\mod {2^w}$$
* 补码乘法：$$x*^t_w y=U2T_w((x\cdot y)\mod {2^w})$$
* 乘以常数：$$B2U_{w+k}([x_{w-1},x_{w-2},\cdots,x_0,0,\cdots,0])=x2^k$$
* 除以2的幂：$$x/2^k=$$`(x < 0 ? (x + (1 << k) - 1) : x) >> k`

浮点数：

* 二进制小数（定点小数）
* IEEE 浮点小数：规格化的值、非规格化的值、无穷大、NaN。
* 舍入
* 浮点运算

## 第3章 程序的机器级表示

## 第4章 处理器体系结构

## 第5章 优化程序性能

## 第6章 存储器层次结构

# 第二部分 在系统上运行程序

## 第7章 链接

## 第8章 异常控制流

## 第9章 虚拟存储器

# 第三部分 程序间的交互和通信

## 第10章 系统级 I/O

## 第11章 网络编程

## 第12章 并发编程

# 总结
